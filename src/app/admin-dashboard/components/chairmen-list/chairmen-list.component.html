<h2>Chairmen List</h2>

<form (ngSubmit)="onSubmit()" #chairmenForm="ngForm" enctype="multipart/form-data">
  <div>
    <label for="name">Name</label>
    <input type="text" id="name" required [(ngModel)]="chairmen.name" name="name" #name="ngModel">
    <div *ngIf="name.invalid && name.dirty" class="error">Name is required</div>
  </div>
  <div>
    <label for="from">From</label>
    <input type="datetime-local" id="from" required [(ngModel)]="chairmen.from" name="from" #from="ngModel">
    <div *ngIf="from.invalid && from.dirty" class="error">From Date is required</div>
  </div>
  <div>
    <label for="to">To</label>
    <input type="datetime-local" id="to" required [(ngModel)]="chairmen.to" name="to" #to="ngModel">
    <div *ngIf="to.invalid && to.dirty" class="error">To Date is required</div>
  </div>
  <div>
    <label for="photo">Photo</label>
    <input type="file" id="photo" (change)="onPhotoSelected($event)" name="photo" accept="image/*">
    <div *ngIf="!chairmen.photo && chairmenForm.submitted" class="error">Photo is required</div>
    <img *ngIf="chairmen.photo" [src]="chairmen.photo" alt="Selected photo">
  </div>
  <button type="submit" [disabled]="chairmenForm.invalid">{{ isEditMode ? 'Update' : 'Add' }}</button>
</form>

<div *ngIf="name.value">
  <h3>Chairmen List</h3>
  <ul>
    <li *ngFor="let chairman of name.value">
      {{ chairman.name }} - From: {{ chairman.from | date:'medium' }}, To: {{ chairman.to | date:'medium' }}
      <button (click)="onEdit(chairman)">Edit</button>
      <button (click)="onDelete(chairman.id)">Delete</button>
    </li>
  </ul>
</div>
